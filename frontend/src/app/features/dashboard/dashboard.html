<div class="bg-card rounded-lg border border-border overflow-hidden relative flex flex-col h-full">
  <div class="absolute inset-0 bg-gradient-to-b from-secondary/10 to-card"></div>

  <div class="relative z-10 p-6">
    <h3 class="font-bold text-xl text-foreground" style="text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5)">
      Eventos Recientes
    </h3>
  </div>

  <div class="relative z-10 flex-1 overflow-y-auto px-6 pb-6 space-y-4">
    @for (event of recentEvents(); track event.id) {
    <div class="flex items-start space-x-4">
      <div
        class="w-10 h-10 flex-shrink-0 rounded-full flex items-center justify-center border"
        [ngClass]="
          getEventAppearance(event).colorClass +
          '/10 ' +
          getEventAppearance(event).colorClass.replace('text-', 'border-') +
          '/30'
        "
      >
        <span
          class="material-symbols-outlined text-xl"
          [ngClass]="getEventAppearance(event).colorClass"
          [style.text-shadow]="
            '0 0 8px hsl(var(--' +
            getEventAppearance(event).colorClass.replace('text-', '') +
            '-glow) / 0.7)'
          "
        >
          {{ getEventAppearance(event).icon }}
        </span>
      </div>

      <div>
        <p class="font-semibold text-foreground">
          {{ event.fatigueType | titlecase }}
        </p>
        <p class="text-sm text-muted-foreground">
          {{ event.driverName }} | Placa: {{ event.vehicleIdentifier }}
        </p>
        <p class="text-xs text-muted-foreground/70 mt-1">
          {{ event.timestamp | timeAgo }}
        </p>
      </div>
    </div>
    } @empty {
    <div class="text-center text-muted-foreground py-10">
      <span class="material-symbols-outlined text-4xl mb-2">radar</span>
      <p>Esperando nuevos eventos...</p>
    </div>
    }
  </div>

  <div class="relative z-10 p-6 mt-auto border-t border-border">
    <button
      class="w-full text-center text-primary hover:text-primary/80 font-semibold transition-colors"
    >
      Ver todas las alertas
    </button>
  </div>
</div>
