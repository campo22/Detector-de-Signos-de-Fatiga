<section class="py-24 sm:py-32 bg-background-dark scroll-mt-28" id="roi-calculator">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-24 items-center">
      <!-- Columna Izquierda: Título y Descripción -->
      <div data-aos="fade-right">
        <div class="inline-flex items-center gap-2 px-4 py-1.5 bg-primary/10 border border-primary/20 rounded-full text-sm text-primary mb-6">
          <span class="material-symbols-outlined text-base">calculate</span>
          {{ 'roi.tag' | translate }}
        </div>
        <h2 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight text-text-dark-primary leading-tight">
          {{ 'roi.title' | translate }}
        </h2>
        <p class="mt-6 text-lg text-landing-text-dark-secondary">
          {{ 'roi.subtitle' | translate }}
        </p>
        <div class="mt-8 space-y-4 text-landing-text-dark-secondary">
          <div class="flex items-start gap-3">
            <span class="material-symbols-outlined text-primary mt-1">check_circle</span>
            <p>{{ 'roi.feature1' | translate }}</p>
          </div>
          <div class="flex items-start gap-3">
            <span class="material-symbols-outlined text-primary mt-1">check_circle</span>
            <p>{{ 'roi.feature2' | translate }}</p>
          </div>
          <div class="flex items-start gap-3">
            <span class="material-symbols-outlined text-primary mt-1">check_circle</span>
            <p>{{ 'roi.feature3' | translate }}</p>
          </div>
        </div>
      </div>

      <!-- Columna Derecha: Calculadora -->
      <div class="bg-gradient-to-br from-[#111620] to-background-dark rounded-3xl p-8 lg:p-10 border border-border-dark shadow-2xl shadow-primary/5" data-aos="fade-left" data-aos-delay="100">
        <form [formGroup]="roiForm" class="space-y-8">
          <!-- Input: Número de Vehículos -->
          <div>
            <label for="vehicleCount" class="flex items-center gap-2 text-base font-medium text-landing-text-dark-secondary">
              <span class="material-symbols-outlined text-primary/80">directions_car</span>
              {{ 'roi.form.vehicles' | translate }}
            </label>
            <div class="mt-3 relative flex items-center">
              <button (click)="decrement('vehicleCount')" type="button" class="absolute left-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">remove</span>
              </button>
              <input formControlName="vehicleCount" id="vehicleCount" type="number" min="1"
                     class="w-full text-center rounded-lg border-2 border-border-dark bg-[#0D1117] focus:ring-2 focus:ring-primary/50 focus:border-primary text-text-dark-primary placeholder-gray-500 transition-colors text-lg font-semibold py-3" />
              <button (click)="increment('vehicleCount')" type="button" class="absolute right-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">add</span>
              </button>
            </div>
          </div>

          <!-- Input: Incidentes Anuales -->
          <div>
            <label for="incidentCount" class="flex items-center gap-2 text-base font-medium text-landing-text-dark-secondary">
              <span class="material-symbols-outlined text-primary/80">warning</span>
              {{ 'roi.form.incidents' | translate }}
            </label>
            <div class="mt-3 relative flex items-center">
              <button (click)="decrement('incidentCount')" type="button" class="absolute left-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">remove</span>
              </button>
              <input formControlName="incidentCount" id="incidentCount" type="number" min="0"
                     class="w-full text-center rounded-lg border-2 border-border-dark bg-[#0D1117] focus:ring-2 focus:ring-primary/50 focus:border-primary text-text-dark-primary placeholder-gray-500 transition-colors text-lg font-semibold py-3" />
              <button (click)="increment('incidentCount')" type="button" class="absolute right-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">add</span>
              </button>
            </div>
          </div>

          <!-- Input: Costo Promedio por Incidente -->
          <div>
            <label for="incidentCost" class="flex items-center gap-2 text-base font-medium text-landing-text-dark-secondary">
              <span class="material-symbols-outlined text-primary/80">payments</span>
              {{ 'roi.form.cost' | translate }}
            </label>
            <div class="mt-3 relative flex items-center">
              <button (click)="decrement('incidentCost', 100)" type="button" class="absolute left-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">remove</span>
              </button>
              <input formControlName="incidentCost" id="incidentCost" type="number" min="0" step="100"
                     class="w-full text-center rounded-lg border-2 border-border-dark bg-[#0D1117] focus:ring-2 focus:ring-primary/50 focus:border-primary text-text-dark-primary placeholder-gray-500 transition-colors text-lg font-semibold py-3" />
              <button (click)="increment('incidentCost', 100)" type="button" class="absolute right-0 p-3 text-landing-text-dark-secondary/50 hover:text-primary transition-colors">
                <span class="material-symbols-outlined">add</span>
              </button>
            </div>
          </div>
        </form>

        <!-- Sección de Resultados -->
        <div class="mt-10 pt-8 border-t-2 border-dashed border-border-dark text-center">
          <p class="text-lg font-medium text-landing-text-dark-secondary">{{ 'roi.results.title' | translate }}</p>
          <div class="my-4">
            <p class="text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-400" #savingsAmount>
              ${{ potentialSavings() | number:'1.0-0' }}
            </p>
          </div>

          <!-- Barra Visual de Ahorro -->
          <div class="w-full bg-[#0D1117] rounded-full h-4 my-6 border border-border-dark">
            <div class="bg-gradient-to-r from-primary/50 to-primary rounded-full h-full" [style.width.%]="savingsPercentage()"></div>
          </div>
          
          <div class="mt-8">
            <button (click)="openDemoModal()" class="w-full sm:w-auto inline-block text-center rounded-full px-10 py-4 text-base font-medium bg-primary text-white hover:bg-primary-focus transition-all duration-300 ease-in-out shadow-primary-glow transform hover:scale-105">
              {{ 'roi.results.cta' | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>